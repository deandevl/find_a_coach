import{_ as h,h as i,o as e,a as n,e as s,t as c,j as p,k as R,d as u,w as g,u as B,l as k,F as w,i as L,c as S}from"./index-DId_9kSd.js";import{B as x}from"./BaseCard-BmmNxyfy.js";import{B as C}from"./BaseSpinner-0euluOPU.js";const E=["href"],I={__name:"RequestItem",props:{email:{type:String},message:{type:String}},setup(o){const t=o,a=i(()=>`mailto: ${t.email}`);return(r,d)=>(e(),n("li",null,[s("div",null,[s("a",{href:a.value},c(o.email),9,E)]),s("p",null,c(o.message),1)]))}},D=h(I,[["__scopeId","data-v-85634c6b"]]),$={key:0},b={key:1},F={key:2},N={__name:"RequestsList",setup(o){const t=p(!1),a=p(null),r=B();async function d(){t.value=!0;try{await r.dispatch("request/loadRequests")}catch(m){a.value=m.message||"Something went wrong loading requests!"}t.value=!1}const v=i(()=>r.getters["request/requests"]),f=i(()=>r.getters["request/hasRequests"]);function q(){a.value=null}return R(()=>{d()}),(m,_)=>{const y=k("BaseDialog");return e(),n("div",null,[u(y,{show:!!a.value,title:"An Error Occurred Loading Requests!",onClose:q},{default:g(()=>[s("p",null,c(a.value),1)]),_:1},8,["show"]),s("section",null,[u(x,null,{default:g(()=>[_[0]||(_[0]=s("header",null,[s("h2",null,"Requests Received")],-1)),t.value?(e(),n("div",$,[u(C)])):f.value&&!t.value?(e(),n("ul",b,[(e(!0),n(w,null,L(v.value,l=>(e(),S(D,{key:l.id,email:l.email,message:l.message},null,8,["email","message"]))),128))])):(e(),n("h3",F,"You haven't received any request yet!"))]),_:1})])])}}},M=h(N,[["__scopeId","data-v-b7c07953"]]);export{M as default};
